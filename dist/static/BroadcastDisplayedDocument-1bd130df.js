import{r as i,bN as n,j as o,bO as a}from"./sanity-219ce20b.js";import{m as p}from"./DisplayedDocumentBroadcaster-03fed77c.js";var v=i.memo(function(s){const u=p(),e=n(!1);return i.useEffect(()=>{if(e?.perspective!=="published"){const t=setTimeout(()=>u?.(s.value),10);return()=>clearTimeout(t)}},[e?.perspective,s.value,u]),e?.perspective==="published"?o.jsx(d,{params:e,setDisplayedDocument:u,value:s.value}):null});function d(s){const{params:u,setDisplayedDocument:e,value:t}=s,{editState:l}=a();return i.useEffect(()=>{if(l!=null&&l.published&&(u==null||!u.prefersLatestPublished)||l==null||!l.published){const r=setTimeout(()=>e?.(t),100);return()=>clearTimeout(r)}},[l?.published,u?.prefersLatestPublished,e,t]),null}export{v as default};
